const testConfig = require('../../../config.js');
const postcode = 'LS9 9HE';
const workPostcode = 'LS7 4QE';
const selectedWorkAddress = '7, Valley Gardens, Leeds, LS7 4QE';
const addressOption = '3, Skelton Avenue, Leeds, LS9 9HE';
const firstLineOfAddress = '7, Valley Gardens?';

//Scotish Details
// const scotPostcode = 'FK15 9ET';
// const scotAddressOption = '3e, Station Road, Dunblane, FK15 9ET';
// const scotWorkPostcode = 'EH45 9BU';
// const scotSelectedWorkAddress = 'Unit 4, Cherry Court, Cavalry Park, Peebles, EH45 9BU';
// const scotFirstLineOfAddress = 'Unit 4, Cherry Court, Cavalry Park';
// const respondentName = 'Henry Marsh';
// const ClaimantFirstName = 'Alexa';
// const ClaimantLastName = 'Siri';

Feature('End To End Tests For an ET Case Linking');
Scenario(
  'Global Search - Single Params -- England and Wales - Singles',
  async ({
    I,
    basePage,
    loginPage,
    taskListPage,
    personalDetailsPage,
    employmentAndRespondentDetailsPage,
    claimDetailsPage,
    submitClaimPage,
    globalSearchPages,
  }) => {
    //case number 1
    I.amOnPage('/');
    await loginPage.registerNewAccount();
    await basePage.processPreLoginPagesForTheDraftApplication(postcode);
    await loginPage.processLoginWithNewAccount();
    await taskListPage.processPostLoginPagesForTheDraftApplication();
    await personalDetailsPage.processPersonalDetails(postcode, 'England', addressOption);
    await employmentAndRespondentDetailsPage.processStillWorkingJourney(
      workPostcode,
      selectedWorkAddress,
      firstLineOfAddress,
    );
    await claimDetailsPage.processClaimDetails();
    let submissionReference = await submitClaimPage.submitClaim();
    I.click('Sign out');
    I.amOnPage(testConfig.TestUrlForManageCaseAAT);
    await loginPage.processLoginOnXui(testConfig.TestEnvETManageCaseUser, testConfig.TestEnvETManageCasePassword);
    globalSearchPages.searchingWithOneParam('submission reference', submissionReference);
  },
)
  .tag('@gsearch')
  .tag('@postr1.2')
  .tag('@nightly');
